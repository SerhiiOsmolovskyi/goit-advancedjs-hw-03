{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["import axios from \"axios\";\n\nconst apiKey = \"live_SOQUwbBJp7SdKrG9q4yg98wu5COkSubVNkG7GRxEQDaqsolCd1Ia5dgduy4S0u92\";\n\naxios.defaults.headers.common[\"x-api-key\"] = apiKey;\n\nexport const fetchBreeds = async () => {\n \n    const response = await axios.get(\"https://api.thecatapi.com/v1/breeds\");\n    return response.data;\n\n};\n\nexport const fetchCatByBreed = async (breedId) => {\n\n    const response = await axios.get(\n      `https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`\n    );\n    return response.data;\n};","import { fetchBreeds, fetchCatByBreed } from \"./cat-api\";\n\nconst breedSelect = document.querySelector(\".breed-select\");\nconst loader = document.querySelector(\".loader\");\nconst error = document.querySelector(\".error\");\nconst catInfo = document.querySelector(\".cat-info\");\n\nconst populateBreedsSelect = async () => {\n  try {\n    const breeds = await fetchBreeds();\n    breeds.forEach((breed) => {\n      const option = document.createElement(\"option\");\n      option.value = breed.id;\n      option.text = breed.name;\n      breedSelect.add(option);\n    });\n  } catch (error) {\n    showError();\n  } finally {\n    hideLoader();\n  }\n};\n\nconst showCatInfo = async (breedId) => {\n  try {\n    const catData = await fetchCatByBreed(breedId);\n    const cat = catData[0];\n    const catInfoHTML = `\n      <div class=\"cat-info-container\">\n        <img src=\"${cat.url}\" alt=\"${cat.breeds[0].name}\" class=\"cat-image\">\n        <div class=\"cat-text\">\n          <p><strong>Breed:</strong> ${cat.breeds[0].name}</p>\n          <p><strong>Description:</strong> ${cat.breeds[0].description}</p>\n          <p><strong>Temperament:</strong> ${cat.breeds[0].temperament}</p>\n        </div>\n      </div>\n    `;\n    catInfo.innerHTML = catInfoHTML;\n\n    setCatInfoStyles();\n    hideError();\n  } catch (error) {\n    showError();\n  } finally {\n    hideLoader();\n  }\n};\n\nconst setCatInfoStyles = () => {\n  const catInfoContainer = document.querySelector(\".cat-info-container\");\n  const catImage = catInfoContainer.querySelector(\".cat-image\");\n  const catText = catInfoContainer.querySelector(\".cat-text\");\n\n  breedSelect.style.marginBottom = \"10px\";\n  catInfoContainer.style.display = \"flex\";\n  catInfoContainer.style.flexWrap = \"wrap\";\n\n  catImage.style.maxWidth = \"400px\";\n  catImage.style.marginRight = \"20px\";\n\n  catText.style.flex = \"1\";\n};\n\nconst showLoader = () => {\n  loader.style.display = \"block\";\n  breedSelect.style.display = \"none\";\n  catInfo.style.display = \"none\";\n  hideError();\n};\n\nconst hideLoader = () => {\n  loader.style.display = \"none\";\n  breedSelect.style.display = \"block\";\n  catInfo.style.display = \"block\";\n};\n\nconst showError = () => {\n  error.style.display = \"block\";\n  breedSelect.style.display = \"none\";\n  catInfo.style.display = \"none\";\n  catInfo.innerHTML = \"\";\n};\n\nconst hideError = () => {\n  error.style.display = \"none\";\n};\n\nbreedSelect.addEventListener(\"change\", async (event) => {\n  const selectedBreedId = event.target.value;\n  showLoader();\n  hideError();\n  await showCatInfo(selectedBreedId);\n});\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  showLoader();\n  hideError();\n  populateBreedsSelect();\n});"],"names":["apiKey","axios","fetchBreeds","fetchCatByBreed","breedId","breedSelect","loader","error","catInfo","populateBreedsSelect","breed","option","showError","hideLoader","showCatInfo","cat","catInfoHTML","setCatInfoStyles","hideError","catInfoContainer","catImage","catText","showLoader","event","selectedBreedId"],"mappings":"svBAEA,MAAMA,EAAS,wEAEfC,EAAM,SAAS,QAAQ,OAAO,aAAeD,EAEtC,MAAME,EAAc,UAEN,MAAMD,EAAM,IAAI,qCAAqC,GACtD,KAIPE,EAAkB,MAAOC,IAEjB,MAAMH,EAAM,IAC3B,wDAAwDG,GAC9D,GACoB,KChBdC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAQ,SAAS,cAAc,QAAQ,EACvCC,EAAU,SAAS,cAAc,WAAW,EAE5CC,EAAuB,SAAY,CACvC,GAAI,EACa,MAAMP,KACd,QAASQ,GAAU,CACxB,MAAMC,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,MAAQD,EAAM,GACrBC,EAAO,KAAOD,EAAM,KACpBL,EAAY,IAAIM,CAAM,CAC5B,CAAK,CACF,MAAC,CACAC,GACJ,QAAY,CACRC,GACD,CACH,EAEMC,EAAc,MAAOV,GAAY,CACrC,GAAI,CAEF,MAAMW,GADU,MAAMZ,EAAgBC,CAAO,GACzB,GACdY,EAAc;AAAA;AAAA,oBAEJD,EAAI,aAAaA,EAAI,OAAO,GAAG;AAAA;AAAA,uCAEZA,EAAI,OAAO,GAAG;AAAA,6CACRA,EAAI,OAAO,GAAG;AAAA,6CACdA,EAAI,OAAO,GAAG;AAAA;AAAA;AAAA,MAIvDP,EAAQ,UAAYQ,EAEpBC,IACAC,GACD,MAAC,CACAN,GACJ,QAAY,CACRC,GACD,CACH,EAEMI,EAAmB,IAAM,CAC7B,MAAME,EAAmB,SAAS,cAAc,qBAAqB,EAC/DC,EAAWD,EAAiB,cAAc,YAAY,EACtDE,EAAUF,EAAiB,cAAc,WAAW,EAE1Dd,EAAY,MAAM,aAAe,OACjCc,EAAiB,MAAM,QAAU,OACjCA,EAAiB,MAAM,SAAW,OAElCC,EAAS,MAAM,SAAW,QAC1BA,EAAS,MAAM,YAAc,OAE7BC,EAAQ,MAAM,KAAO,GACvB,EAEMC,EAAa,IAAM,CACvBhB,EAAO,MAAM,QAAU,QACvBD,EAAY,MAAM,QAAU,OAC5BG,EAAQ,MAAM,QAAU,OACxBU,GACF,EAEML,EAAa,IAAM,CACvBP,EAAO,MAAM,QAAU,OACvBD,EAAY,MAAM,QAAU,QAC5BG,EAAQ,MAAM,QAAU,OAC1B,EAEMI,EAAY,IAAM,CACtBL,EAAM,MAAM,QAAU,QACtBF,EAAY,MAAM,QAAU,OAC5BG,EAAQ,MAAM,QAAU,OACxBA,EAAQ,UAAY,EACtB,EAEMU,EAAY,IAAM,CACtBX,EAAM,MAAM,QAAU,MACxB,EAEAF,EAAY,iBAAiB,SAAU,MAAOkB,GAAU,CACtD,MAAMC,EAAkBD,EAAM,OAAO,MACrCD,IACAJ,IACA,MAAMJ,EAAYU,CAAe,CACnC,CAAC,EAED,SAAS,iBAAiB,mBAAoB,IAAM,CAClDF,IACAJ,IACAT,GACF,CAAC"}